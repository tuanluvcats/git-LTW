
@model IEnumerable<LTW_Tuan05_Bai2.Models.SanPham>

@{

    ViewBag.Title = "TimKiemSanPham";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="d-flex justify-content-center">
    <div style="width:80%; max-width:900px;">

        <h2 class="text-center">Tìm kiếm sản phẩm</h2>

        @using (Html.BeginForm("TimKiemSanPham", "Home", FormMethod.Get))
        {
            <div class="d-flex justify-content-center mb-3">
                <div class="input-group" style="max-width: 400px; width:100%;">
                    <input type="text" name="keyword" value="@ViewBag.Keyword"
                           placeholder="Nhập tên sản phẩm..."
                           class="form-control" />
                    <div class="input-group-append">
                        <button type="submit" class="btn btn-primary">Tìm</button>
                    </div>
                </div>
            </div>
        }

        <hr />

        @if (Model != null && Model.Any())
        {
            <table class="table table-striped border text-center">
                <thead class="thead-dark">
                    <tr>
                        <th>Hình ảnh</th>
                        <th>Mã SP</th>
                        <th>Tên SP</th>
                        <th>Đường dẫn</th>
                        <th>Giá</th>
                        <th>Mô tả</th>
                        <th>Mã loại</th>
                    </tr>
                </thead>
                @foreach (var sp in Model)
                {
                    <tr>
                        <td><img src="@Url.Content(sp.DuongDan)" width="100" height="100" /></td>
                        <td>@sp.MaSP</td>
                        <td>@sp.TenSP</td>
                        <td>@sp.DuongDan</td>
                        <td>@sp.Gia.ToString("N0") VNĐ</td>
                        <td>@sp.MoTa</td>
                        <td>@sp.MaLoai</td>
                    </tr>
                }
            </table>

            <p class="text-center "><strong>Số lượng sản phẩm tìm thấy:</strong> @ViewBag.SoLuong</p>
        }
        else
        {
            <p class="text-muted text-center">Không tìm thấy sản phẩm nào.</p>
        }

    </div>
</div>

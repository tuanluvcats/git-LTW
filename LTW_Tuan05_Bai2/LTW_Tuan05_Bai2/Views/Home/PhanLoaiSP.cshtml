@model LTW_Tuan05_Bai2.ViewModels.DuLieuViewModel

@{
    ViewBag.Title = "PhanLoaiSP";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="text-center">Phân loại sản phẩm</h2>

@using (Html.BeginForm("PhanLoaiSP", "Home", FormMethod.Get))
{
    <div class="d-flex justify-content-center mb-3">
        <select name="id" class="form-control" style="max-width:300px;" onchange="this.form.submit()">
            <option value="">-- Chọn loại sản phẩm --</option>
            @foreach (var loai in Model.DSLoai)
            {
                <option value="@loai.MaLoai" @(Model.ChonLoai != null && Model.ChonLoai.MaLoai == loai.MaLoai ? "selected" : "")>
                    @loai.TenLoai
                </option>
            }
        </select>
    </div>
}

<hr />

@if (Model.DSSanPham.Any())
{
    <table class="table table-striped border text-center">
        <thead class="thead-dark">
            <tr>
                <th>Hình ảnh</th>
                <th>Mã sản phẩm</th>
                <th>Tên sản phẩm</th>
                <th>Đường dẫn</th>
                <th>Giá</th>
                <th>Mô tả</th>
                <th>Mã loại</th>
            </tr>
        </thead>
        @foreach (var sp in Model.DSSanPham)
        {
            <tr>
                <td><img src="@Url.Content(sp.DuongDan)" width="100" height="100" /></td>
                <td>@sp.MaSP</td>
                <td>@sp.TenSP</td>
                <td>@sp.DuongDan</td>
                <td>@sp.Gia.ToString("N0")</td>
                <td>@sp.MoTa</td>
                <td>@sp.MaLoai</td>
            </tr>
        }
    </table>
}
else
{
    <p class="text-muted text-center">Chưa có sản phẩm để hiển thị.</p>
}
